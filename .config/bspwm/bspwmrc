#! /bin/sh

# Autostart
pgrep -x sxhkd > /dev/null || sxhkd &  # start x-hotkey daemon
nitrogen --restore
~/.config/polybar/launch.sh --$( cat ~/.config/polybar/theme )
xsetroot -cursor_name left_ptr
picom --experimental-backends --backend glx --xrender-sync-fence &
~/.config/bspwm/subscriber &

# monitor configuration
source ~/.config/bspwm/monitors

# visual configuration
bspc config border_width 5
bspc config focused_border_color \#D7402E
bspc config active_border_color \#484848
bspc config window_gap 30
bspc config split_ratio 0.50

# alt-cursor click movement and resizing
bspc config pointer_modifier mod1
bspc config pointer_action3 resize_side
bspc config pointer_action3 resize_corner
bspc config pointer_action1 move
bspc config automatic_scheme longest_side
bspc config focus_follows_pointer true

# application-specific rules
bspc rule -a Xfce4-settings-manager state=floating follow=on
bspc rule -a Thunar state=floating follow=on
bspc rule -a Spotify state=floating hidden==on
bspc rule -a spotify state=floating hidden==on
bspc rule -a Xscreensaver-demo state=floating
bspc rule -a Gpick state=floating
bspc rule -a Nm-connection-editor state=floating
bspc rule -a Xfce4-session-settings state=floating
bspc rule -a Xfce4-power-manager-settings state=floating
bspc rule -a Pavucontrol state=floating
bspc rule -a Pamac-manager state=floating
#bspc rule -a Eog state=floating
bspc rule -a Xfce4-mime-settings state=floating
bspc rule -a Gwyddion state=floating
bspc rule -a 'Photoshop.exe' state=psuedo_tiled
bspc rule -a Pamac-manager state=floating
bspc rule -a manjaro-settings-manager state=floating
bspc rule -a matplotlib state=floating
bspc rule -a feh state=floating
bspc rule -a *:kitty state=pseudo_tiled rectangle=100x100+0+0
